<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>The Scriptures, Mapped</title>
    <link rel="stylesheet" href="css/styles.css" />
    <script src="js/scriptures.js" type="text/javascript"></script>
</head>

<body>
    <div id="header">
        <div id="crumb"></div>
        <div id="centerhead">
            <div id="title">The Scriptures, Mapped</div>
            <div id="subtitle">By Thomas Fisher</div>
        </div>
    </div>
    <div id="content">
        <div id="navbtns">
            <!-- <button id="prev_button">Prev</button>
            <button id="next_button">Next</button> -->
        </div>
        <div id="scripnav"></div>
        <div id="scriptures"></div>
        <div id="style-selector-control" class="map-control">
      <input type="radio" name="show-hide" id="hide-poi"
          class="selector-control">
      <label for="hide-poi">Hide</label>
      <input type="radio" name="show-hide" id="show-poi"
          class="selector-control" checked="checked">
      <label for="show-poi">Show</label>
    </div>
        <div id="map"></div>
    </div>

    <script type="text/javascript">
        function ready(eventHandler) {
            if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
                eventHandler();
            } else {
                document.addEventListener("DOMContentLoaded", eventHandler);
            }
        }
        ready(function() {
            window.addEventListener("hashchange", Scriptures.onHashChanged);
            Scriptures.init(Scriptures.onHashChanged);
        });

        let map;
        function initMap() {
            let uluru = {
                lat: 31.7683,
                lng: 35.2137
            };
            map = new google.maps.Map(document.getElementById('map'), {
                zoom: 7,
                center: uluru,
                mapTypeControl: false
            });
            let marker = new google.maps.Marker({
                position: uluru,
                map: map,
                // label: "test"
            });
            // Add controls to the map, allowing users to hide/show features.
            var styleControl = document.getElementById('style-selector-control');
            map.controls[google.maps.ControlPosition.TOP_LEFT].push(styleControl);

            // Apply new JSON when the user chooses to hide/show features.
            document.getElementById('hide-poi').addEventListener('click', function() {
                map.setOptions({styles: styles['hide']});
            });
            document.getElementById('show-poi').addEventListener('click', function() {
                map.setOptions({styles: styles['default']});
            });
        }
        var styles = {
            default: null,
            hide: [
                {
                    featureType: 'poi',
                    stylers: [{visibility: 'off'}]
                },
                {
                    featureType: 'transit',
                    elementType: 'labels.icon',
                    stylers: [{visibility: 'off'}]
                },
                {
                    featureType: "road",
                    stylers: [{visibility: 'off'}]
                },
                {
                    featureType: 'administrative',
                    stylers: [{visibility: 'off'}]
                },
            ]
        };
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCHg2xe4E5WlJvudSe9okbCuvdile0ArRU&callback=initMap">
    </script>
</body>

</html>
